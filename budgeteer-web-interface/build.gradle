import org.apache.tools.ant.filters.ReplaceTokens

plugins {
    id 'io.freefair.lombok'
    id 'org.springframework.boot'
    id 'io.spring.dependency-management'
    id 'war'
}

processResources {
    from('src/main/java') {
        exclude '**/*.xlsx'
        filter ReplaceTokens, tokens: [
                "application.version": project.property("version")
        ]
    }
}

dependencies {
    implementation project(':budgeteer-importer-api')
    implementation project(':budgeteer-aproda-importer')
    implementation project(':budgeteer-ubw-importer')
    implementation project(':budgeteer-resourceplan-importer')
    implementation project(':budgeteer-report-exporter')
    implementation project(':budgeteer-core')
    implementation project(':budgeteer-common')

    implementation group: 'org.apache.poi', name: 'poi-ooxml', version: poi_version

    implementation(
            [group: 'org.apache.wicket', name: 'wicket-spring', version: wicket_version],
            [group: 'org.apache.wicket', name: 'wicket-extensions', version: wicket_version],
            [group: 'org.wicketstuff', name: 'wicketstuff-lazymodel', version: wicket_version],
            [group: 'org.wicketstuff', name: 'wicketstuff-tinymce4', version: wicket_version],
            [group: 'org.wicketstuff', name: 'wicketstuff-lambda-components', version: wicket_version],
            [group: 'de.adesso.wicked-charts', name: 'wicked-charts-wicket8', version: wickedcharts_version]
    )

    implementation(
            [group: 'org.springframework.boot', name: 'spring-boot-starter-security'],
            [group: 'org.springframework.boot', name: 'spring-boot-starter-web'],
            [group: 'org.springframework.boot', name: 'spring-boot-starter-logging'],
            [group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa'],
            [group: 'org.springframework.boot', name: 'spring-boot-starter-mail'],
            [group: 'org.springframework.boot', name: 'spring-boot-starter-validation'],
    )

    implementation group: 'org.reflections', name: 'reflections', version: reflections_version
    implementation group: 'org.apache.commons', name: 'commons-lang3', version: commons_lang_version
    implementation group: 'commons-codec', name: 'commons-codec', version: commons_codec_version

    implementation group: 'org.joda', name: 'joda-money', version: joda_money_version
    implementation group: 'de.jollyday', name: 'jollyday', version: jollyday_version

    runtimeOnly(
            [group: 'org.hsqldb', name: 'hsqldb', version: hsqldb_version],
            [group: 'mysql', name: 'mysql-connector-java', version: mysql_version],
            [group: 'com.oracle.database.jdbc', name: 'ojdbc10', version: oracle_database_version],
            [group: 'com.oracle.database.nls', name: 'orai18n', version: oracle_database_version],
    )

    testImplementation(
            [group: 'org.kubek2k', name: 'springockito', version: springockito_version],
            [group: 'org.kubek2k', name: 'springockito-annotations', version: springockito_version],
            [group: 'com.github.springtestdbunit', name: 'spring-test-dbunit', version: spring_dbunit_version],
            [group: 'org.dbunit', name: 'dbunit', version: dbunit_version],
    )

    testImplementation group: 'org.springframework.boot', name: 'spring-boot-starter-test'
}
